-- Include aunit in compilation:
with "aunit.gpr";

project linux_test extends all "a_linux_debug_base.gpr" is

   -----------------------------------------------
   -- These lines of code must be included at the
   -- top of every Adamant based .gpr file. They
   -- are used to connect the Adamant build system
   -- to GPRBuild.
   -----------------------------------------------
   for Source_Dirs use a_adamant.SOURCE_DIRS;
   for Excluded_Source_Files use a_adamant.EXCLUDED_SOURCE_FILES;
   for Object_Dir use a_adamant.OBJECT_DIR;
   for Exec_Dir use a_adamant.EXEC_DIR;

   package Compiler is
      for Switches ("Ada") use a_linux_debug_base.Compiler'Switches ("Ada");

      -- Add path to freestanding eigen:
      for Switches ("C++") use a_linux_debug_base.Compiler'Switches ("C++") &
         ("-I" & a_adamant.ADAMANT_DIR & "/../eigen");

      for Switches ("C") use a_linux_debug_base.Compiler'Switches ("C");
      for Switches ("Asm_Cpp") use a_linux_debug_base.Compiler'Switches ("Asm_Cpp");
   end Compiler;

   package Linker is
      for Switches ("Ada") use a_adamant.Linker'Switches ("Ada") &
         -- link against algorithms archive
         ("-L" & Project'Project_Dir & "../../../../fp32-fsw-xmera/build/linux-gcc-debug/lib") &
         ("-lstdc++") &
         ("-lgncAlgorithms");
   end Linker;

end linux_test;
